---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface GalleryImage {
	src: ImageMetadata;
	alt: string;
}

interface Props {
	images: GalleryImage[];
	columns?: 2 | 3 | 4;
}

const { images, columns = 3 } = Astro.props;

const columnClasses = {
	2: "md:grid-cols-2",
	3: "md:grid-cols-3",
	4: "md:grid-cols-4"
};
---

<div class={`grid grid-cols-1 sm:grid-cols-2 ${columnClasses[columns]} gap-6`}>
	{images.map((image) => (
		<div class="group relative overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
			<Image 
				src={image.src} 
				alt={image.alt}
				class="w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
				widths={[400, 600, 800]}
				sizes="(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw"
			/>
		</div>
	))}
</div>
